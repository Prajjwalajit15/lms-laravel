<!DOCTYPE html>
<html lang="en">
<head>
  <title>LMS Admin</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-...your-integrity..." crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
 
  
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <style>
   body {
  background-color: #121212;
  color: #f1f1f1;
  font-family: "Segoe UI", sans-serif;
  line-height: 1.6;
}

.sidebar .nav-link.active {
    background-color: #0d6efd;
    color: #fff !important;
    border-radius: 5px;
}


/* Sidebar */
.sidebar {
  min-width: 250px;
      flex-shrink: 0;           /* Prevent shrinking */
  background: #1e1e1e;
  border-right: 1px solid #2a2a2a;
  padding: 15px;
  display: flex;
  flex-direction: column;
  min-height: 100vh; /* full height */
  transition: all 0.3s ease-in-out;
}

/* Sidebar Headings */
.sidebar h6 {
  font-size: 12px;
  color: #999;
  margin-top: 18px;
  margin-bottom: 8px;
  text-transform: uppercase;
  letter-spacing: 1px;
}

/* Links */
.sidebar .nav-link {
  color: #ddd;
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px 12px;
  border-radius: 8px;
  transition: all 0.3s ease;
  font-size: 15px;
  font-weight: 500;
}

/* Hover + Active */
.sidebar .nav-link:hover,
.sidebar .nav-link.active {
  background: rgba(13, 110, 253, 0.15); /* Blue overlay */
  color:  #fff ;
  transform: translateX(6px) scale(1.02); 
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25);
}

/* Icon size */
.sidebar .nav-link i {
  font-size: 18px;
  transition: color 0.3s;
}

/* Submenu */
.submenu .nav-link {
  padding-left: 35px;
  font-size: 14px;
  color: #bbb;
}

.submenu .nav-link:hover {
  color: #fff ;
}

/* Caret rotation */
.nav-link[aria-expanded="true"] .bi-caret-down {
  transform: rotate(180deg);
}
.bi-caret-down {
  transition: transform 0.3s ease;
}

/* Submenu transition effect */
.collapse.submenu {
  transition: height 0.3s ease;
}

/* Mobile */
@media (max-width: 767px) {
  .sidebar.d-md-block {
    display: none !important;
  }
}

/* Logo styling */
.logo-img {
  border-radius: 10px;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);
  transition: transform 0.3s, box-shadow 0.3s;
}

.logo-img:hover {
  transform: scale(1.08);
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.5);
}

.navbar-brand span {
  font-weight: 600;
  letter-spacing: 0.8px;
  color: #f1f1f1;
}

/* Prevent carousel items from overflowing */
.carousel-item {
    min-height: 180px;        /* Or whatever height you need */
}

/* Keep the carousel container stable */
#dashboardCardsCarousel .carousel-inner {
    display: flex;
    align-items: stretch;     /* Ensure equal height */
}

/* Make sure cards inside donâ€™t stretch oddly */
#dashboardCardsCarousel .card {
    height: 100%;
}
  </style>
  
<style>
  /* Dark Mode Styles */
  .dark-mode {
    background-color: #121212 !important;
    color: #f1f1f1 !important;
  }
  .dark-mode .card,
  .dark-mode .table,
  .dark-mode .navbar {
    background-color: #1e1e1e !important;
    color: #f1f1f1 !important;
  }
  .dark-mode .table thead {
    background-color: #2c2c2c !important;
  }
</style>
</head>
<body>


 <!-- Navbar -->
<nav class="navbar navbar-dark bg-dark shadow-sm">
  <div class="container-fluid">
    <!-- Toggle button for small screens -->
    <button class="btn btn-outline-light me-2 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#sidebarOffcanvas" aria-controls="sidebarOffcanvas">
      <i class="bi bi-list"></i>
    </button>

    <a class="navbar-brand d-flex align-items-center" href="{{ route('dashboard') }}">
      <img src="{{ asset('asset/images/logo.jpg') }}" alt="Library Logo" height="40" width="120" class="logo-img ms-5">
    </a>

    <!-- Right-side items -->
    <div class="d-flex align-items-center ms-auto">
       

      <!-- Admin dropdown -->
      @if(session()->has('admin_id'))
      <div class="dropdown me-3">
        <a class="nav-link dropdown-toggle text-light d-flex align-items-center" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            <img src="{{ asset('asset/images/user.jpg') }}" alt="User" class="rounded-circle me-2" width="30" height="30">
            Admin
        </a>

        <ul class="dropdown-menu dropdown-menu-end">
          <li><a class="dropdown-item" href="#">Profile</a></li>
          <li><a class="dropdown-item" href="#">Settings</a></li>
          <li><hr class="dropdown-divider"></li>
          <li><a class="dropdown-item text-danger" href="{{ route('logout') }}">Logout</a></li>
        </ul>
      </div>
      @endif
    </div>
  </div>
</nav>


  <div class="d-flex">
    <!-- Sidebar (desktop) -->
    <div class="sidebar d-none d-md-block">
      @include('partials.sidebar')
    </div>

    <!-- Offcanvas Sidebar (mobile) -->
    <div class="offcanvas offcanvas-start sidebar" tabindex="-1" id="sidebarOffcanvas">
      <div class="offcanvas-body p-0">
        @include('partials.sidebar')
      </div>
    </div>

    <!-- Main content -->
    <main class="flex-grow-1 p-4">
      @yield('content')
    </main>
  </div>
<script>
  const toggleBtn = document.getElementById('theme-toggle');
  const body = document.body;

  // Load saved theme
  if(localStorage.getItem('theme') === 'dark'){
    body.classList.add('dark-mode');
    toggleBtn.innerHTML = '<i class="bi bi-sun-fill"></i>';
  }

  toggleBtn.addEventListener('click', () => {
    body.classList.toggle('dark-mode');
    if(body.classList.contains('dark-mode')){
      localStorage.setItem('theme', 'dark');
      toggleBtn.innerHTML = '<i class="bi bi-sun-fill"></i>';
    } else {
      localStorage.setItem('theme', 'light');
      toggleBtn.innerHTML = '<i class="bi bi-moon-fill"></i>';
    }
  });
</script>
<script>
  const toggleBtn = document.getElementById('theme-toggle');
  const body = document.body;

  // Load saved theme
  if(localStorage.getItem('theme') === 'dark'){
    body.classList.add('dark-mode');
    toggleBtn.innerHTML = '<i class="bi bi-sun-fill"></i>';
  }

  toggleBtn?.addEventListener('click', () => {
    body.classList.toggle('dark-mode');
    if(body.classList.contains('dark-mode')){
      localStorage.setItem('theme', 'dark');
      toggleBtn.innerHTML = '<i class="bi bi-sun-fill"></i>';
    } else {
      localStorage.setItem('theme', 'light');
      toggleBtn.innerHTML = '<i class="bi bi-moon-fill"></i>';
    }
  });
</script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
@stack('scripts')

</body>
</html>
